# DispatchingForPeople

## 目录结构

- data：存放csv地图节点的数据集
- src：存放源代码


## 总说明
  我们定义Chromosome类来表示染色体,并定义了calculate_fitness.mutate.crossover和selection函数来分别计算适应度，变异

### 优化点

0. 地图节点的数据
1. 完成多次调度的编码、解码
2. 完善适应度函数，更好地计算个体的适应度    
3. 添加遗传算法算子：不同的交叉策略、变异、置换...
4. 新的停止条件：收敛条件、运行时间限制
5. 优化参数：交叉概率、变异概率、种群大小
6. 算法结合：模拟退火算法...

### 机器人 设计思路

存储起始点，目的点，任务目的序列，当前行驶的任务目的下标，当前任务序列序号

当机器人运输到目的地进行补给后，
- 若有剩余的物资，优先运输到下一个受灾点；
    - 或顺路前往最近最适合的物资补给点 
    - 继续前往下一个受灾点
- 若不足，则返回补给点后，将这个受灾目的点重新进入任务序列。


### 染色体编码


因为补给点的移动是可以根据受灾点的行驶任务进行动态决定的

所以可以排除补给点的编码，仅仅使用受灾点进行染色体编码。

### 版本

main仅仅实现了遗传的框架
main2实现了机器人的拓展和表示
main2-1更改染色体的初始化及表示

### 项目配置文件说明

/src/config.json：

- `RANDOM_MODE`:随机模式。
  - 1代表完全随机（仅限制地图节点个数）
  - 2代表限制补给点和受灾点个数（TODO）
  - 3代表限制机器人个数（TODO）
  
~~~json
{
  "RANDOM_MODE": 1, // 生成数据的方式
  "NODE_NUMBER": 10, // 节点数量
  "AFFECTED_NUMBER": 7, // 受灾点数量
  "SUPPLE_NUMBER": 3, // 补给点数量
  "ROBOT_NUMBER": 3, // 机器人数量
  "CHROMOSOME_NUMBER": 20, // 染色体方案数
  "CROSSOVER_RATE": 0.8, // 交叉概率
  "MUTATION_RATE": 0.3, // 变异概率
  "MAX_TIME": 1000, // 最大迭代次数（最长时间）
  "ANXIETY_RATE": 1.1 // 焦虑幂指速率
}
~~~